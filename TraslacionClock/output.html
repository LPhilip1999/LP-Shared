<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>TRASLACION 2026 DURATION CLOCK</title>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
  <style>
    @font-face {
      font-family: 'NumberFont';
      src: local('NumberFont'), url('font/MADETOMMY-Bold.otf') format('opentype');
      font-weight: normal; font-style: normal; font-display: swap;
    }
    html, body { margin: 0; padding: 0; width: 1280px; height: 720px; overflow: hidden; background-color: black; }
    .bg-page-temp { position: relative; width: 1280px; height: 720px; overflow: hidden; }
    #bgvideo { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; }
    .timerfont {
      position: absolute; top: 335px; left: 594px; width: 548px;
      font-size: 130px; color: black; font-family: NumberFont, sans-serif;
      display: flex; align-items: center; justify-content: center; text-align: center; z-index: 1;
    }
  </style>
</head>
<body>
  <div class="bg-page-temp">
    <div class="timerfont" id="display">00:00:00</div>
    <video id="bgvideo" autoplay loop muted playsinline>
      <source src="https://github.com/LPhilip1999/LP-Shared/raw/refs/heads/main/TraslacionClock/medias/DURATIONJAN9loop.mp4" type="video/mp4">
    </video>
  </div>

  <script>
    // !!! REPLACE WITH YOUR ACTUAL FIREBASE CONFIG !!!
    const firebaseConfig = {
            apiKey: "AIzaSyChe-th-e1RQJGnRxdIcpKgJ2AuIsILjTQ",
            authDomain: "traslacion-clock-2026.firebaseapp.com",
            databaseURL: "https://traslacion-clock-2026-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "traslacion-clock-2026",
            storageBucket: "traslacion-clock-2026.firebasestorage.app",
            appId: "1:506370432562:web:3ae603fce823dfa59ba62b"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const display = document.getElementById('display');
    let timerState = { startTime: 0, isRunning: false, isPaused: false, pauseTime: 0 };

    db.ref('traslacion').on('value', (snapshot) => {
        const data = snapshot.val();
        if (data) timerState = data;
    });

    function updateClock() {
      if (!timerState.isRunning || timerState.startTime === 0) {
          display.textContent = "00:00:00";
          return;
      }

      const now = new Date().getTime();
      const refTime = timerState.isPaused ? (timerState.pauseTime || now) : now;
      const totalSeconds = Math.max(0, Math.floor((refTime - timerState.startTime) / 1000));
      
      const hrs = Math.floor(totalSeconds / 3600).toString().padStart(2, '0');
      const mins = Math.floor((totalSeconds % 3600) / 60).toString().padStart(2, '0');
      const secs = (totalSeconds % 60).toString().padStart(2, '0');
      display.textContent = `${hrs}:${mins}:${secs}`;
    }

    setInterval(updateClock, 100);
  </script>
</body>
</html>
